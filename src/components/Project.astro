---
import Tag from "./Tag.astro";
import { Image } from "astro:assets";
import { urlFor } from "@sanity/utils";
import type { SanityImage } from "@sanity/types";
import Headline from "./Headline.astro";

interface Props {
  title?: string;
  detailUrl?: string;
  externalUrl?: string;
  tags?: { name: string; value: string }[];
  image?: SanityImage;
  imageAlt?: string;
}

const { title, tags, image, imageAlt = "" } = Astro.props;
---

<article
  class="relative flex gap-[2.4rem] h-[42rem] bg-[#D9D9D9] rounded-small"
>
  {
    image && (
      <Image
        src={urlFor(image)?.url()}
        alt={imageAlt}
        width={image?.asset?.metadata?.dimensions?.width}
        height={image?.asset?.metadata?.dimensions?.height}
        loading="lazy"
        decoding="async"
        class="h-full object-cover rounded-[inherit] absolute"
      />
    )
  }

  <div
    class="flex flex-col justify-between items-end text-right gap-4 flex-1 z-10 py-3 px-5"
  >
    {
      tags && (
        <div class="flex gap-5">
          {tags.map((tag) => (
            <Tag>{tag.name}</Tag>
          ))}
        </div>
      )
    }

    <h3 class="text-body1 font-semibold max-w-[50%] text-background">
      {title}
    </h3>

    <!-- {
  externalUrl && (
    <LinkIcon iconSrc={linkSVG} href={externalUrl}>
      {" "}
      Podívat se na stránku{" "}
    </LinkIcon>
  )
} -->
  </div>
</article>
